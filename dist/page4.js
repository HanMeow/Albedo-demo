webpackJsonp([5],{211:function(t,e,a){"use strict";var i=a(45),s=a(46),r=a.n(s),o=a(47),l=a(304),n=a(48);e.a={name:"page4",components:{puzzle:o.a},mixins:[i.a,n.a],data:function(){return{title:"地表全部被森林或草原覆蓋時，其平均反照率為0.15。當暖化增強時，空氣中水氣含量增加，雲量會增加。雲增加則會影響反照率。",infoList:["你可以決定這個地區上空雲的覆蓋量。用滑鼠選擇雲的按鈕後，再到底圖上按滑鼠右鍵，即可在該位置上覆上雲。","完成後按下送出鍵，即可看到整個區域的平均反照率。","一共進行五次。"],areaList:[{color:"#DDD",title:"雲",subTitle:"0.6",percent:"0%",incident:100,reflection:60,hideInput:!0},{color:"#008800",title:"森林&草原",subTitle:"0.15",percent:"0%",incident:100,reflection:15,hideInput:!0},{}],cursorGridColor:"#A1B",activedborderProp:"#227",showCursorGrid:!1,cursorTitle:"",cursorSubTitle:"",isMousedown:!1,dragData:{beenDragged:!1,color:"none",albedo:0},fillColors:["none"],areaDatas:[],finishedArea:"0%",averageAlbedo:"0%",currentDataIndex:0,mouseTop:0,mouseLeft:0,offsetX:0,offsetY:0,chart:{},showAlert:!1,imageIndex:-1}},mounted:function(){var t=document.getElementById("myChart").getContext("2d");this.chart=new r.a(t,l.a),this.chartData=l.a,this.resetData()},methods:{gridDown:function(t,e){this.isMousedown=!0,this.showCursorGrid=!0,this.offsetX=t.offsetX,this.offsetY=t.offsetY,this.mouseLeft=t.pageX,this.mouseTop=t.pageY,this.cursorGridColor=t.item.cloudColor,this.cursorTitle=t.item.title,this.cursorSubTitle=t.item.subTitle,this.dragData.beenDragged=!0,this.dragData.color=t.item.cloudColor,this.dragData.albedo=+t.item.subTitle,this.cardIncident=t.item.incident,this.cardReflection=t.item.reflection,this.imageIndex=e},mouseup:function(t){this.isMousedown=!1,this.showCursorGrid=!1;var e=this.$refs.puzzle.$el.getBoundingClientRect(),a=e.top,i=e.left,s=e.width,r=e.height;a=this.$refs.puzzle.$el.parentElement.offsetTop;var o=this.mouseTop-this.offsetY-a+48,l=this.mouseLeft-this.offsetX-i+48;if(l<s&&o<r){var n=5*(4*o/r|0)+(5*l/s|0)+1;this.enterSinglePuzzle({id:n})}},mousemove:function(t){var e=t.pageX||t.changedTouches[0].pageX,a=t.pageY||t.changedTouches[0].pageY;this.isMousedown&&(this.mouseLeft=e,this.mouseTop=a)},resetData:function(){this.chartData.data.datasets[0].data.fill(null),this.chartData.data.datasets[1].data.fill(null),this.resetPuzzle()},resetPuzzle:function(){this.$refs.puzzle.fillColors.length=21,this.$refs.puzzle.fillColors.fill("#008800"),this.areaDatas.length=21,this.areaDatas.fill(-1),this.finishedArea="0%",this.averageAlbedo="0%";for(var t=0;t<this.areaList.length;t++)this.areaList[t].percent="0%";for(var e=1;e<21;e++)this.areaDatas[e]=1;this.checkDatas(),this.$forceUpdate(),this.$refs.puzzle.$forceUpdate(),this.chart.update()},checkDatas:function(){for(var t=0,e=0,a=new Array(5).fill(0),i=1;i<21;i++){var s=this.areaDatas[i];if(-1!==s){var r=this.areaList[s];0===s&&t++,e+=r.reflection/r.incident,a[s]++}}this.finishedArea=5*t+"%",this.averageAlbedo=""+(5*e/100).toFixed(2);for(var o=0;o<this.areaList.length;o++)this.areaList[o].percent=5*a[o]+"%"},enterSinglePuzzle:function(t){this.dragData.beenDragged&&(this.$refs.puzzle.fillColors[t.id]=this.dragData.color,this.areaDatas[t.id]=this.imageIndex,this.$refs.puzzle.borderColors[t.id]="black",this.$refs.puzzle.active[t.id]=!0,this.$refs.puzzle.$forceUpdate(),this.checkDatas())},handleInput:function(){},submitAnswer:function(){if(this.currentDataIndex<5){var t=+this.averageAlbedo.replace("%","");this.chartData.data.datasets[0].data[this.currentDataIndex]={x:+this.finishedArea.replace("%",""),y:t},this.chartData.data.datasets[1].data[this.currentDataIndex]={x:+this.finishedArea.replace("%",""),y:+this.temperature(t)},this.chartData.data.datasets[0].data.sort(function(t,e){return t?e?t.x-e.x:-1:1}),this.chartData.data.datasets[1].data.sort(function(t,e){return t?e?t.x-e.x:-1:1}),this.chart.update(),this.currentDataIndex++}}},computed:{cursorGrid:function(){return{top:this.mouseTop-this.offsetY+"px",left:this.mouseLeft-this.offsetX+"px"}}}}},302:function(t,e,a){var i=a(303);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(1)("4099bb82",i,!0,{})},303:function(t,e,a){e=t.exports=a(0)(!1),e.push([t.i,"",""])},304:function(t,e,a){"use strict";var i=["","第一次","第二次","第三次","第四次","第五次",""],s=[{label:"平均反照率",backgroundColor:"rgb(255, 99, 132)",borderColor:"rgb(255, 99, 132)",data:[null,null,null,null,null],showLine:!0,fill:!1,yAxisID:"axis-1"},{label:"平均氣溫(°C)",backgroundColor:"rgb(99, 255, 132)",borderColor:"rgb(99, 255, 132)",data:[null,null,null,null,null],showLine:!0,fill:!1,yAxisID:"axis-2"}],r={yAxes:[{type:"linear",display:!0,position:"left",id:"axis-1",scaleLabel:{display:!0,labelString:"反照率"},ticks:{max:1,min:0}},{type:"linear",display:!0,position:"right",id:"axis-2",gridLines:{drawOnChartArea:!1},scaleLabel:{display:!0,labelString:"°C"},ticks:{max:40,min:-40}}],xAxes:[{type:"linear",position:"bottom",display:!0,scaleLabel:{display:!0,labelString:"雲量(%)"},ticks:{max:100,min:0}}]},o={labels:{filter:function(t,e){return t.fillStyle="#FFF",t}}},l={responsive:!0,hoverMode:"index",stacked:!1,maintainAspectRatio:!1,title:{display:!0,text:"觀察平均反照率及平均氣溫的變化關係"},scales:r,legend:o},n={labels:i,datasets:s};e.a={type:"scatter",data:n,options:l}},36:function(t,e,a){"use strict";function i(t){a(302)}Object.defineProperty(e,"__esModule",{value:!0});var s=a(211),r=a(5),o=i,l=r(s.a,null,!1,o,null,null);e.default=l.exports}});